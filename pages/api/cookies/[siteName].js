import { async } from "@firebase/util";
import admin from "../../../config/firebaseAdmin";

const canvaCookies = [
  {
    domain: "www.canva.com",
    expirationDate: 1697452452.983339,
    
    httpOnly: true,
    name: "CDI",
    path: "/",
    sameSite: "no_restriction",
    secure: true,
    storeId: "0",
    value: "712bcdd3-c54a-4d64-8573-c868aa73751d",
  },
  {
    domain: ".canva.com",
    expirationDate: 1697452452.983418,
    httpOnly: false,
    name: "CAI",
    path: "/",
    sameSite: "no_restriction",
    secure: true,
    storeId: "0",
    value: "7530ed85-7a2a-4706-8f3a-fa24f12e88e3",
  },
  {
    domain: "www.canva.com",
    expirationDate: 1665927338.764419,
    
    httpOnly: true,
    name: "CCK",
    path: "/",
    sameSite: "no_restriction",
    secure: true,
    storeId: "0",
    value: "B9n-KS8Y6PAtsIkUVSKBnQ",
  },
  {
    domain: ".canva.com",
    expirationDate: 1665988455.21415,
    httpOnly: false,
    name: "FPLC",
    path: "/",
    sameSite: "unspecified",
    secure: true,
    storeId: "0",
    value:
      "SsncP7X8ankRZu7SlFlQEunKRn2Hf8V9Y8T2ooJ%2BEtKcCpBPRK0jRyfYhDAwNjhWMrHktUsDJawTvrbKi4QnY7czsh%2Bo3tlylwxy60woxG6TR9EP4H41rV44v1ZtTA%3D%3D",
  },
  {
    domain: ".canva.com",
    expirationDate: 1700476540.737829,
    httpOnly: true,
    name: "FPID",
    path: "/",
    sameSite: "unspecified",
    secure: true,
    storeId: "0",
    value:
      "FPID2.2.N4%2BHZJMDZgwF40hejdlZbmXrd9tVemBoXXKtHXWNlmo%3D.1665914760",
  },
  {
    domain: "www.canva.com",
    expirationDate: 1665930940,
    
    httpOnly: false,
    name: "gtm_custom_user_engagement_lock_4",
    path: "/",
    sameSite: "unspecified",
    secure: false,
    storeId: "0",
    value: "yes",
  },
  {
    domain: ".canva.com",
    expirationDate: 1666002940,
    httpOnly: false,
    name: "_gid",
    path: "/",
    sameSite: "unspecified",
    secure: false,
    storeId: "0",
    value: "GA1.2.1197284551.1665916456",
  },
  {
    domain: ".canva.com",
    expirationDate: 1700476541.320289,
    httpOnly: false,
    name: "_fbp",
    path: "/",
    sameSite: "lax",
    secure: true,
    storeId: "0",
    value: "fb.1.1665916456230.1973516100",
  },
  {
    domain: ".canva.com",
    expirationDate: 1673692456.440715,
    httpOnly: false,
    name: "FPAU",
    path: "/",
    sameSite: "unspecified",
    secure: true,
    storeId: "0",
    value: "1.2.1846899356.1665916459",
  },
  {
    domain: ".canva.com",
    expirationDate: 1665918256.609678,
    httpOnly: true,
    name: "__cf_bm",
    path: "/",
    sameSite: "no_restriction",
    secure: true,
    storeId: "0",
    value:
      "uBK3Yt5f0P3DcJe66vuv8xTIr_5ImuGzehS17_1rAWM-1665916459-0-AUx4F7zS5LJyH4oK2xntSWEUy4XAEl+qB7Bo7MavxVfN3WbdHXsdpDGJK3zMUCRIr6RIYNaCVSystVm7JK38xQci7bVARx1VUtw1lUcas4fHku2l3ti0eBMx33V/1R+BEDexhPYOpoYMBG2qAZ0wmuc2tqVRZfDeznK3lgxAmQY6",
  },
  {
    domain: ".canva.com",
    httpOnly: true,
    name: "__cfruid",
    path: "/",
    sameSite: "no_restriction",
    secure: true,
    storeId: "0",
    value: "102b76089259c1f74eed91727e8d3858f064689c-1665916500",
  },
  {
    domain: ".canva.com",
    expirationDate: 1700476502.820346,
    httpOnly: false,
    name: "__cuid",
    path: "/",
    sameSite: "lax",
    secure: false,
    storeId: "0",
    value: "a700a3c1ec924b798e9ff2a8abd4f5a0",
  },
  {
    domain: "www.canva.com",
    expirationDate: 1668508536.313144,
    
    httpOnly: true,
    name: "CB",
    path: "/",
    sameSite: "no_restriction",
    secure: true,
    storeId: "0",
    value: "BAFPMSIv9w8",
  },
  {
    domain: "www.canva.com",
    expirationDate: 1668508536.313185,
    
    httpOnly: true,
    name: "CID",
    path: "/",
    sameSite: "no_restriction",
    secure: true,
    storeId: "0",
    value:
      "J8BmKXWqQWMspCm8KysqLIoCLJ0wZiQ3qrT9B8sH6epMoj7hUm_EnT9M-eY_98fZKI--rsRgcGxrcB0H34rQlBaC2idUe8zqbGpnmcmMz_DjyFxt",
  },
  {
    domain: "www.canva.com",
    expirationDate: 1668508536.313231,
    
    httpOnly: true,
    name: "CAZ",
    path: "/",
    sameSite: "no_restriction",
    secure: true,
    storeId: "0",
    value:
      "_hiiO-9sIr8cfgVk4wuWRrJZ9acGh5EKAMRhc6Uaiiudv92jLidE4S2vBWmYsPycfpEvdvNIQ3oufjHDjRFS2kVhFa8tQWJNHVxnQzCcjU2a3AFX-Uz114a8peeYNf7nXlEgrVIhNsYhM2ZDIXRbA4Nb153l1raR3npRxn8vjp5bR9_RD1Q7bfTg49_r1-nTV21GRlqbVizmTV7j2zfgPXVf9tL_OBtief-1ma4LPMakTQE-UYB_4OevdbNrLel_5rBMEJIgWseFnwdtG0u0VSI3D-32iQq-TnB7YAuNTu-KiQlrzfVBWCW_YV691bfs7N0ZkL28RXC7FjiOGDmTnKBPa6euh7E5R8r3SUkbjYoagEouwzi5v4UtRbzohqpucv8OjJOdehFie84zNRwt1KfGys7dk00gyctP3UDv28SjxHPN_BNW7O5t5OInuhogd4vwsTob14JTohz9HIpN_WftshS6xLia1i3-NWcLiD_xyvgLYsv2Z7gq2cPMaBi4qcwfmJBNKdHKw8khggkyMWfvRjefNqOofvqgihIX1rl3EcZn8BOHoPyDCKWK4myUUI_vYf6xiwsDbo4yEGKk12Vm0mhfAQOGZ_0nD4RNJaejOe4ggYMvHQSiz0lU2-5pC-DVkMluhsumYL5UC3mk3X7nPC9X-F9LbJq3RGWMyZYXpi1O36N8qL2aYsay9Yb7p-VKUQ60v7ahRsrN8mecff46wLYRw-mE4ks-yAvCXIwMI2VhjLHN5CawiydI5M1EYJUK4yzIpMlPD0noSfVCs2to_kz6LvwywH4LLxKJDg6c7tN6eajb73YHDgchqTh0N-sKCGMEnZePz15UsK9qWMtNijbGhAe6bOWjs0SfbqN12W2GO8ApHZTipn-kqHceE9JKmgbZyFFyTq3FRE5V6DglIhosrplAQ1pW-kje0AlTgC7mlh5X_xTyAs2OL_9hfbKOxIvbCvesMDdOPg49_zP1T6KGlwQpTjYsYtlOq7eNxX5Ix-NnbpEdjzkz3NMKakGV-lPStAOnsSvqf7KfhcIANCfLhglaOItHzEcL-kFguZi7MhArfs3oZIfV6vuFsKt8UjPwJ2flkbnolP2VyXihx5gJVZI6n7JaXgfQ15NHUhcBPxIZXplGxhBZCVJQxJzfJKHSAPvntyn0P1GfMY9OAhJoDsywpSkL9-mkiJgTQM1Z5n6AxjVGMtvu8kPO4ScwoSUPXGPxpjIiU1ufTdLlPKVcX5pspWQgjoPRBcH-mPw2LvubhrVCGlq7AG06OvPzJ11MiU9YOB6L4qllCP5IgS9zbIcsMRFGMJeiL-iQYFm_yH60rQ3bydiY50rrEydHFh_BmLx-a2fWm8x0e6xITJRe34ihM8W2jfUV_yBb6Pt6pONVaG90iG8qPAsK43Sk8JjfzwRzFc12Yep16rze_06McUGIapZ-VTQMVs_cScANzlFoIkhLqfKCaE4Mk1f8E7xXIreoO-IR5EnEBru0rWVQnyUZete021eF9x4razpNklRgDQj9GwEn8FTMTDrmbTb-PSNOM3N6gcbciYmZxN6oWOhXzV_9RGVIQqqFvelbWyPvGBBrAjZFQaC_5eSrDQjqojREk18kQ0Y2KLO204ML5ZEjR2LXMTzNJqrg4S83WB1cmCsAxsfi6OC_vtX5ShvpzKAGWL92qF-DxhKaTD2Kgs4s-OUFZVvtx_yY-T0i7_6OWrroW5gyzWAnZaTTSetfASPfREoTVyJXPjuol3Wa7YfUIOi9GMqkWm0HBIo74OxtLEhc8tcKXQre34e2UDOBeZ1814IcAVsmYSqHc2SIKYxsosa-seQwIsW-u4yVMxoc5pqZTAvL--qZNZBwaMqV1FGVrXyy4py8VawV_IJ0MC72o8RKACXNP7QlFkgJb05pgl1EWiM9OJr-PL2PUiXLVIYBrZbvd7ST1E4edDJ_eNKG_LIgNSylsKVN-xCYaU_37ncPMVFXu5cSG5m9Clv7eUQGMTiQ6hvg4UuhhuM",
  },
  {
    domain: ".canva.com",
    expirationDate: 1668508536.313273,
    httpOnly: false,
    name: "CS",
    path: "/",
    sameSite: "no_restriction",
    secure: true,
    storeId: "0",
    value: "1",
  },
  {
    domain: ".canva.com",
    expirationDate: 1668508536.313291,
    httpOnly: true,
    name: "CUI",
    path: "/",
    sameSite: "no_restriction",
    secure: true,
    storeId: "0",
    value:
      "ZsJZGFolf3cHPE_9gSc4ugvhvVMD3K_y-jRxmb5wpDSTYv6fbvyIcSr5q6z3ZqMJ8n_Xtw",
  },
  {
    domain: "www.canva.com",
    expirationDate: 1668508536.313329,
    
    httpOnly: true,
    name: "CL",
    path: "/",
    sameSite: "no_restriction",
    secure: true,
    storeId: "0",
    value: "en",
  },
  {
    domain: ".canva.com",
    expirationDate: 1700476537.94604,
    httpOnly: false,
    name: "__cid",
    path: "/",
    sameSite: "lax",
    secure: false,
    storeId: "0",
    value:
      "xcGFrne-wp-mgatDdf40o1-ocLDfcoUcobW5AbG0rFGFMrICwreKLLqBuj-v864F7bbPXmsT5QTQJ7AJ_biyfsbb_27Y3d5tw5uHL5KUmlbL2tZu1ceST_aUgzGMhIkh9d3cN5aPknmUgJsh48TCbcfj12Pp3cYul4eFL5GCkinp_OZM7piSbcvf1yHl0dFqzZ2SQsrG3WzHm4MxlJqCL5KagiHx1dRg0N2dNJGDnDKU2LoylIKKMcSBinahszkBNryAZ8HR1jSb1y5J4_r1TeeUmkjMwNdtjpT7b9bR3inwnZJU6vCSRtDVwmnL18EhlIaCIebdwGTBwIFFk4WSd9Hrh16SlMJy_YHtMY6U9jLmhYMoBqKDM42Hgy6TjYQ4jpSGO5KEiDGSlOJMDbyytINxBHpptGEAfztM5qJfsfbsi30juEuwSWq0LgGitAkBcXwHkaK0sgGitLIBorQIZBjRyXniArIBorTyQeL08kHX1sdj0tIJug0b9UN0OOKForGyAaK0uwFd",
  },
  {
    domain: "www.canva.com",
    expirationDate: 1665927338.764308,
    
    httpOnly: true,
    name: "CPA",
    path: "/",
    sameSite: "no_restriction",
    secure: true,
    storeId: "0",
    value:
      "PDnYAgEoqhdFGuaIbkXsY8fCUbJWjis3cgtLf4pM7hvNKHZeKoTYiRTMpSYwDR9_jIpoLKlRoqB002_f8q6dLmpu_IkQrEm1hwGZfk1tjJeymqeRyovzfNgr3ni8Al5eJDR_iJc2_j5qrGzd27_voz1r-M5X9UcT4wQW09yXrJjGYIfVVQkP4Wim3uuWR22YBBf3mx2rjQYaIKFoYKUD5ZLjSC_QjWNvPXnWXsZDKnAmqxP7qKfVG12xbxhnbXFgrKEtQArh43H80We_mjBGtKeglI1PEpJiZCifObwj9o8Kyltmlk_JIcKuoKVqCOulFa9dWDqxtWIb2WhwPVCI6aRLQOd9OtYAGLmx8i1zYa_Eiw2v5TJYdTs0Giv3WKz-YwHEGMFgReiwsXj6f-PeguFOKh6Uc6QoNjYf-P59e1we1rxds67zA37obn16cpHhyfy9tjmVFRVTQfVmj5juDRAzF8JakDPh7zzYFY_tHfhs3bu0EtXqI6LxQg8JNivWkhPY9M6gYJbSlVuF8rIp3R18CnMm4ZG4rqK556LnDk0UnUYRL4QRZcWyRTy6Rj59iehbcNkg9JgarZ515SLxrG9fnSTAB9jvmrfYh-sI_oEEpnR6UkPn7oFh3DTVc_f7ZRR-HZ1twvkloyMGqa13NI4IOyIMZqyEnpn_5LsL4ffQ7MW7",
  },
  {
    domain: ".canva.com",
    expirationDate: 1697473479,
    httpOnly: false,
    name: "ab.storage.sessionId.320f7332-8571-45d7-b342-c54192dae547",
    path: "/",
    sameSite: "unspecified",
    secure: false,
    storeId: "0",
    value:
      "%7B%22g%22%3A%225ea47b77-1f28-a4a3-af90-ebdcf03c7081%22%2C%22e%22%3A1665918339924%2C%22c%22%3A1665914358479%2C%22l%22%3A1665916539924%7D",
  },
  {
    domain: "www.canva.com",
    expirationDate: 1665918340,
    
    httpOnly: false,
    name: "gtm_custom_user_engagement",
    path: "/",
    sameSite: "unspecified",
    secure: false,
    storeId: "0",
    value:
      '{"lock":"yes","page":3,"landingPageURL":"https://www.canva.com/","newSession":"no"}',
  },
  {
    domain: "www.canva.com",
    expirationDate: 1665930940,
    
    httpOnly: false,
    name: "gtm_fpc_engagement_event",
    path: "/",
    sameSite: "unspecified",
    secure: false,
    storeId: "0",
    value:
      '{"url":"https://www.canva.com/","ts":1665916540291,"utm_s":-1,"utm_m":-1}',
  },
  {
    domain: ".canva.com",
    expirationDate: 1700476540.408548,
    httpOnly: false,
    name: "_ga_EPWEMH6717",
    path: "/",
    sameSite: "unspecified",
    secure: false,
    storeId: "0",
    value: "GS1.1.1665912397.2.1.1665916540.0.0.0",
  },
  {
    domain: ".canva.com",
    expirationDate: 1700476540.402473,
    httpOnly: false,
    name: "_ga",
    path: "/",
    sameSite: "unspecified",
    secure: false,
    storeId: "0",
    value: "GA1.1.363065126.1665916456",
  },
  {
    domain: ".canva.com",
    expirationDate: 1666002940,
    httpOnly: false,
    name: "_uetsid",
    path: "/",
    sameSite: "unspecified",
    secure: false,
    storeId: "0",
    value: "a2569b904d3411ed9e1a4dece88a51ff",
  },
  {
    domain: ".canva.com",
    expirationDate: 1699612540,
    httpOnly: false,
    name: "_uetvid",
    path: "/",
    sameSite: "unspecified",
    secure: false,
    storeId: "0",
    value: "ad552ad0496f11edb24545cd4dd68951",
  },
];


export default async function cookieSender(req, res) {
  const { siteName } = req.query;
  const snapshot = await admin.firestore().collection('cookies').doc('canva').get();
  const canvaCookies=snapshot.data();
  const cookiesObj=JSON.parse(canvaCookies.cookies)
  console.log(cookiesObj.cookies)
  const obj = JSON.stringify({
    cookies: cookiesObj.cookies,
    siteName: "https://www.canva.com/",
  });

  res.send({ obj });
}
